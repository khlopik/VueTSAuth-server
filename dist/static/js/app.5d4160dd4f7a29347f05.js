webpackJsonp([1],{"+tOl":function(t,e){},"1Hrm":function(t,e){},"7D5T":function(t,e){},"7zck":function(t,e){},CR7k:function(t,e){},"DV+a":function(t,e){},FhoZ:function(t,e,s){"use strict";(function(e){const a=s("o/zv");t.exports={dev:{assetsSubDirectory:"static",assetsPublicPath:"/",proxyTable:{},host:"localhost",port:8080,autoOpenBrowser:!1,errorOverlay:!0,notifyOnErrors:!0,poll:!1,useEslint:!0,showEslintErrorsInOverlay:!1,devtool:"cheap-module-eval-source-map",cacheBusting:!0,cssSourceMap:!0},build:{index:a.resolve(e,"../dist/index.html"),assetsRoot:a.resolve(e,"../dist"),assetsSubDirectory:"static",assetsPublicPath:"/",productionSourceMap:!0,devtool:"#source-map",productionGzip:!1,productionGzipExtensions:["js","css"]}}}).call(e,"/")},Go53:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("7zck");var a=s("7+uW"),n=s("3EgV"),r=s.n(n),i=s("ESwS"),o=s.n(i),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var u=s("VU/8")({name:"App"},c,!1,function(t){s("7D5T")},null,null).exports,l=s("/ocq"),d=s("Dd8w"),_=s.n(d),E=s("NYxO"),v=(s("sax8"),s("bOdI")),S=s.n(v),h=s("2aIq"),f=s.n(h),m=s("//Fk"),A=s.n(m),p=s("mvHQ"),R=s.n(p),U=s("mtWM"),T=s.n(U);s("FhoZ"),s("rBKV"),s("dhIU");console.log("process.env.NODE_ENV: ","production"),T.a.defaults.withCredentials=!0;var g,D,O,C=function(){var t=JSON.parse(localStorage.getItem("authUser"));return{headers:{"x-auth":t&&t.token?t.token:""}}},L=function(t){localStorage.setItem("authUser",R()({email:t.data.email,token:t.headers["x-auth"],access:t.data.access}))},w={SET_LOGGED_IN:"SET_LOGGED_IN",SET_USER_URL:"SET_USER_URL",SET_USER_ACCESS:"SET_USER_ACCESS",UPDATE_USER_DETAILS:"UPDATE_USER_DETAILS",CLEAR_USER_AVATAR:"CLEAR_USER_AVATAR",SAVE_USERS_TO_STORE:"SAVE_USERS_TO_STORE",UPDATE_USER_ACCESS:"UPDATE_USER_ACCESS",SET_DEFAULT_AVATAR:"SET_DEFAULT_AVATAR",SET_HOST_ADDRESS:"SET_HOST_ADDRESS"},I={LOGIN_BY_CREDENTIALS:"LOGIN_BY_CREDENTIALS",SET_LOGGED_IN:"SET_LOGGED_IN",SET_USER_URL:"SET_USER_URL",CHECK_LOGIN_ON_SERVER:"CHECK_LOGIN_ON_SERVER",LOGOUT_USER:"LOGOUT_USER",UPDATE_USER_DETAILS_ON_SERVER:"UPDATE_USER_DETAILS_ON_SERVER",CLEAR_USER_AVATAR:"CLEAR_USER_AVATAR",REMOVE_USER_ACCOUNT:"REMOVE_USER_ACCOUNT",GET_USERS_FROM_SERVER:"GET_USERS_FROM_SERVER",UPDATE_USER_ACCESS:"UPDATE_USER_ACCESS",REQUEST_HOST_ADDRESS:"REQUEST_HOST_ADDRESS"},b={HOST_ADDRESS:"HOST_ADDRESS",IS_LOGGED_IN:"IS_LOGGED_IN",GET_USER_URL:"GET_USER_URL",GET_USER_ACCESS:"GET_USER_ACCESS",GET_USER_DETAILS:"GET_USER_DETAILS",GET_USER_AVATAR:"GET_USER_AVATAR",GET_ALL_USERS:"GET_ALL_USERS",GET_DEFAULT_AVATAR:"GET_DEFAULT_AVATAR"},G={action:I,mutation:w,getter:b},V=(g={},S()(g,I.REQUEST_HOST_ADDRESS,function(t){var e=t.commit,s=void 0;location.host.includes("localhost")?(console.log("This is Development mode"),s=location.protocol+"//"+location.hostname+":8081"):(console.log("This is Production mode"),s=location.protocol+"//"+location.hostname),console.log("host: ",s),e(w.SET_HOST_ADDRESS,s)}),S()(g,I.SET_LOGGED_IN,function(t,e){(0,t.commit)(w.SET_LOGGED_IN,e)}),S()(g,I.SET_USER_URL,function(t,e){(0,t.commit)(w.SET_USER_URL,e)}),S()(g,I.LOGIN_BY_CREDENTIALS,function(t,e){var s=t.commit;return new A.a(function(t,a){(function(t){return new A.a(function(e,s){T.a.post(j.getters.HOST_ADDRESS+"/auth/login",t).then(function(t){return L(t),e(t.data)}).catch(function(t){return console.log("error in loginService.js: ",t),t.response?s(t.response.status):s(t)})})})(e).then(function(e){s(w.SET_LOGGED_IN,!0),s(w.UPDATE_USER_DETAILS,{data:e}),t()}).catch(function(t){console.log("error: ",t),a()})})}),S()(g,I.CHECK_LOGIN_ON_SERVER,function(t){var e=t.commit;return new A.a(function(t,s){(console.log("`${store.getters.HOST_ADDRESS}/auth/me`: ",j.getters.HOST_ADDRESS+"/auth/me"),console.log("store: ",j.state.auth.hostAddress),console.log("getter: ",j.getters.HOST_ADDRESS),T.a.get(j.getters.HOST_ADDRESS+"/auth/me").then(function(t){return t.data}).catch(function(t){return console.log("error in isLoggedIn (loginService.js): ",t),A.a.reject(t.response.status)})).then(function(s){return e(w.SET_LOGGED_IN,!0),e(w.UPDATE_USER_DETAILS,{data:s}),e(w.SET_DEFAULT_AVATAR,s.defaultAvatar),t()}).catch(function(t){return e(w.SET_LOGGED_IN,!1),s(t)})})}),S()(g,I.LOGOUT_USER,function(t){var e=t.commit;T.a.get(j.getters.HOST_ADDRESS+"/logout").catch(function(t){return"Cannot logout"}),e(w.SET_USER_ACCESS,""),e(w.SET_LOGGED_IN,!1)}),S()(g,I.UPDATE_USER_DETAILS_ON_SERVER,function(t,e){var s=t.commit,a=e.userId,n=e.details;return function(t,e){return new A.a(function(s,a){T.a.patch(j.getters.HOST_ADDRESS+"/users/"+t,e,C()).then(function(t){return s(t)}).catch(function(t){return a(t)})})}(a,n).then(function(t){return s(w.UPDATE_USER_DETAILS,{userId:a,data:t.data}),A.a.resolve()}).catch(function(t){return console.log("catch in action"),console.log("error: ",t),A.a.reject(t)})}),S()(g,I.CLEAR_USER_AVATAR,function(t,e){(0,t.commit)(w.CLEAR_USER_AVATAR,e)}),S()(g,I.REMOVE_USER_ACCOUNT,function(t,e){return f()(t),function(t){return new A.a(function(e,s){T.a.delete(j.getters.HOST_ADDRESS+"/users/"+t,C()).then(function(t){return e(t)}).catch(function(t){return s(t)})})}(e).then(function(t){return A.a.resolve(t)}).catch(function(t){return A.a.reject(t)})}),S()(g,I.GET_USERS_FROM_SERVER,function(t){var e=t.commit;new A.a(function(t,e){T.a.get(j.getters.HOST_ADDRESS+"/users",C()).then(function(e){return t(e)}).catch(function(t){return e(t)})}).then(function(t){e(w.SAVE_USERS_TO_STORE,t.data)}).catch(function(t){console.log("error: ",t)})}),S()(g,I.UPDATE_USER_ACCESS,function(t,e){var s=t.commit,a=e.userId,n=e.access;(function(t,e){return new A.a(function(s,a){T.a.patch(j.getters.HOST_ADDRESS+"/users/access/"+t,{access:e},C()).then(function(t){return s(t)}).catch(function(t){return a(t)})})})(a,n).then(function(t){s(w.UPDATE_USER_ACCESS,{userId:a,access:t.data.access})}).catch(function(t){console.log("error: ",t)})}),g),N=s("M4fF"),P=s.n(N),x=(D={},S()(D,w.SET_HOST_ADDRESS,function(t,e){t.hostAddress=e}),S()(D,w.SET_LOGGED_IN,function(t,e){t.isLoggedIn=e}),S()(D,w.SET_USER_URL,function(t,e){t.userUrl=e}),S()(D,w.SET_USER_ACCESS,function(t,e){t.userAccess=e}),S()(D,w.UPDATE_USER_DETAILS,function(t,e){var s=e.userId,a=e.data;s&&s!==t.userId||(t.userAccess=a.access,t.details.name=a.details.name,t.details.email=a.email,t.userId=a._id,t.details.avatar=""!==a.details.avatar?t.hostAddress+"/"+a.details.avatar:""),t.users=P.a.map(t.users,function(e){return e._id===s?(console.log("user: ",e),console.log("data.details: ",a.details),_()({},e,{details:_()({},e.details,{name:a.details.name,avatar:""!==a.details.avatar?t.hostAddress+"/"+a.details.avatar:""})})):e})}),S()(D,w.CLEAR_USER_AVATAR,function(t,e){if(e){e===t.userId&&(t.details.avatar="");var s=P.a.map(t.users,function(t){return t._id===e?_()({},t,{details:_()({},t.details,{avatar:""})}):t});t.users=s}else t.details.avatar=""}),S()(D,w.SAVE_USERS_TO_STORE,function(t,e){t.users=P.a.map(e,function(e){return _()({},e,{details:_()({},e.details,{avatar:""!==e.details.avatar?t.hostAddress+"/"+e.details.avatar:""})})})}),S()(D,w.UPDATE_USER_ACCESS,function(t,e){var s=e.userId,a=e.access;s===t.userId?t.access=a:t.users=P.a.map(t.users,function(t){return t._id===s?_()({},t,{access:a}):t})}),S()(D,w.SET_DEFAULT_AVATAR,function(t,e){t.defaultAvatar=t.hostAddress+"/"+e}),D),$=(O={},S()(O,b.HOST_ADDRESS,function(t){return t.auth.hostAddress}),S()(O,b.IS_LOGGED_IN,function(t){return t.auth.isLoggedIn}),S()(O,b.GET_USER_URL,function(t){return t.auth.userUrl}),S()(O,b.GET_USER_ACCESS,function(t){return t.auth.userAccess}),S()(O,b.GET_USER_DETAILS,function(t){return{access:t.auth.userAccess,name:t.auth.details.name,avatar:t.auth.details.avatar,email:t.auth.details.email,id:t.auth.userId}}),S()(O,b.GET_USER_AVATAR,function(t){return function(t){}}),S()(O,b.GET_ALL_USERS,function(t){return P.a.map(t.auth.users,function(t){return{name:t.details.name,avatar:t.details.avatar,email:t.email,id:t._id,access:t.access}})}),S()(O,b.GET_DEFAULT_AVATAR,function(t){return t.auth.defaultAvatar}),O),H={state:{userId:null,isLoggedIn:!1,userUrl:"",userAccess:"",defaultAvatar:"",details:{email:null,name:"",avatar:null},users:[]},actions:V,mutations:x},F=G,k=_()({},$),y={auth:H};a.a.use(E.a);var j=new E.a.Store({modules:y,getters:k,plugins:[]}),M={name:"Header",computed:_()({},Object(E.c)({isLoggedIn:F.getter.IS_LOGGED_IN,userDetails:F.getter.GET_USER_DETAILS})),methods:_()({},Object(E.b)({logout:F.action.LOGOUT_USER}),{loginUser:function(){this.isLoggedIn?this.logout():this.$router.push("/login")}})},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("v-toolbar-side-icon",{staticClass:"header-icon"}),t._v(" "),s("h1",{staticClass:"header-title"},[t._v("Vue Application + Node.js & MongoDB + Authorization")]),t._v(" "),s("button",{staticClass:"header-login",on:{click:t.loginUser}},[t._v("\n\t\t\t"+t._s(t.isLoggedIn?"Log out ("+(t.userDetails.name||t.userDetails.email)+")":"log in / Sign up")+"\n\t\t")])],1)},staticRenderFns:[]};var B=s("VU/8")(M,q,!1,function(t){s("Go53")},"data-v-b802aad8",null).exports,z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"footer-copyright"},[this._v("Â© "+this._s((new Date).getFullYear())+" by Oleksii Khlopotov")])])},staticRenderFns:[]};var K=s("VU/8")({name:"Footer"},z,!1,function(t){s("DV+a")},"data-v-fd7bbeb6",null).exports,Y={name:"UserDetails",props:{userDetails:{type:Object,required:!0}},data:function(){return{name:this.userDetails.name,newAvatar:"",savingStatus:0,formData:new FormData}},computed:_()({},Object(E.c)({userAccess:F.getter.GET_USER_ACCESS,currentUser:F.getter.GET_USER_DETAILS,defaultAvatar:F.getter.GET_DEFAULT_AVATAR}),{isInitial:function(){return 0===this.savingStatus},isSaving:function(){return 1===this.savingStatus},isSuccess:function(){return 2===this.savingStatus},isFailed:function(){return 3===this.savingStatus},formChanged:function(){return this.name!==this.userDetails.name||this.newAvatar||this.formData.has("avatar")}}),methods:_()({},Object(E.b)({updateDetails:F.action.UPDATE_USER_DETAILS_ON_SERVER,clearUserAvatar:F.action.CLEAR_USER_AVATAR,removeUserAccount:F.action.REMOVE_USER_ACCOUNT,updateUserAccess:F.action.UPDATE_USER_ACCESS}),{saveUserDetails:function(){var t=this;this.name!==this.userDetails.name&&this.formData.append("name",this.name),this.savingStatus=1,this.updateDetails({userId:this.userDetails.id,details:this.formData}).then(function(){t.savingStatus=2,t.formData=new FormData,t.newAvatar=""}).catch(function(){t.savingStatus=3,t.formData=new FormData})},saveForm:function(t){if(t.length){this.formData.delete("avatar"),this.formData.append("avatar",t[0],t[0].name);var e=new FileReader,s=this;e.onload=function(t){s.newAvatar=t.target.result},e.readAsDataURL(t[0]),this.savingStatus=0}},clearAvatar:function(){this.newAvatar="",this.$refs.updatedAvatar.value="",this.clearUserAvatar(this.userDetails.id),this.savingStatus=0,this.formData.append("avatar","")},inputChange:function(t){this.name=t},deleteAccount:function(t){var e=this;this.removeUserAccount(t).then(function(s){t===e.currentUser.id&&e.$router.go()}).catch(function(t){console.log("error: ",t)})},updateAccess:function(){var t=this;this.updateUserAccess({userId:this.userDetails.id,access:"Resident"===this.userDetails.access?"Admin":"Resident"}).then(function(){t.userDetails.id===t.currentUser.id&&t.$router.go()}).catch(function(t){console.log("error: ",t)})}})},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-details"},[s("v-form",{staticClass:"user-form",attrs:{enctype:"multipart/form-data"}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-subheader",[t._v("E-mail:")])],1),t._v(" "),s("v-flex",{attrs:{xs8:""}},[s("v-text-field",{ref:"email",staticClass:"user-form-input",attrs:{disabled:"",name:"email",label:"E-mail address",value:t.userDetails.email}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-subheader",[t._v("User name:")])],1),t._v(" "),s("v-flex",{attrs:{xs8:""}},[s("v-text-field",{ref:"name",attrs:{name:"name",label:"User name",value:t.userDetails.name},on:{input:function(e){t.inputChange(e)}}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs4:""}},[s("v-subheader",[t._v("Avatar:")]),t._v(" "),s("div",{staticClass:"avatar-buttons"},[s("label",{class:"avatar-label"+(t.isSaving?" disabled":"")},[s("input",{ref:"updatedAvatar",staticClass:"avatar-file",attrs:{type:"file",name:"file",disabled:t.isSaving},on:{change:function(e){t.saveForm(e.target.files),t.accept="image/*"}}}),t._v("\n\t\t\t\t\t\t\tLoad image\n\t\t\t\t\t\t")]),t._v(" "),s("v-btn",{staticClass:"avatar-clear",attrs:{color:"warning",disabled:!t.userDetails.avatar&&!t.newAvatar||t.isSaving},on:{click:t.clearAvatar}},[t._v("Clear avatar")])],1)],1),t._v(" "),s("v-flex",{staticClass:"avatar-image",attrs:{xs8:""}},[s("img",{ref:"avatar",staticClass:"user-avatar",attrs:{src:t.newAvatar||t.userDetails.avatar||t.defaultAvatar,alt:"avatar"}})])],1),t._v(" "),s("v-layout",{attrs:{row:""}})],1),t._v(" "),s("div",{staticClass:"form-buttons"},["Admin"===t.userAccess?s("v-btn",{attrs:{color:"info"},on:{click:t.updateAccess}},[t._v("\n\t\t\t\t"+t._s("Resident"===t.userDetails.access?"Set":"Remove")+" Admin rights\n\t\t\t")]):t._e(),t._v(" "),s("v-btn",{attrs:{color:"error"},on:{click:function(e){t.deleteAccount(t.userDetails.id)}}},[t._v("Delete account")]),t._v(" "),s("v-btn",{attrs:{color:"success",disabled:!t.formChanged||t.isSaving},on:{click:t.saveUserDetails}},[t._v("Save")])],1)],1)},staticRenderFns:[]};var Z=s("VU/8")(Y,Q,!1,function(t){s("1Hrm")},"data-v-3d889390",null).exports,W={name:"admin-page",components:{UserDetails:Z},computed:_()({},Object(E.c)({users:F.getter.GET_ALL_USERS,userDetails:F.getter.GET_USER_DETAILS})),methods:_()({},Object(E.b)({getUsers:F.action.GET_USERS_FROM_SERVER})),mounted:function(){this.getUsers()}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"admin"},[t._m(0),t._v(" "),s("v-expansion-panel",{staticClass:"userlist",attrs:{popout:""}},[s("h2",[t._v("User list:")]),t._v(" "),t._l(t.users,function(e){return s("v-expansion-panel-content",{key:e.email,staticClass:"user-panel"},[s("div",{staticClass:"user-header",attrs:{slot:"header"},slot:"header"},[t._v("\n\t\t\t\t\t"+t._s(e.email+(e.id===t.userDetails.id?" (Current user)":""))+"\n\t\t\t\t\t"),s("span",{class:"user-access"+("Resident"===e.access?"":" user-admin")},[t._v(t._s(e.access))])]),t._v(" "),s("user-details",{staticClass:"user-details",attrs:{userDetails:e}})],1)})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"admin-title"},[e("h1",[this._v("Hello on Admin page")])])}]};var X=s("VU/8")(W,J,!1,function(t){s("eiG0")},"data-v-36d108dd",null).exports,tt={name:"resident-page",components:{UserDetails:Z},data:function(){return{email:""}},computed:_()({},Object(E.c)({userDetails:F.getter.GET_USER_DETAILS})),mounted:function(){}},et={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"resident"},[this._m(0),this._v(" "),e("div",{staticClass:"resident-details"},[e("h2",[this._v("Your details:")]),this._v(" "),e("user-details",{staticClass:"resident-user",attrs:{userDetails:this.userDetails}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"resident-title"},[e("h1",[this._v("Hello on Resident page")])])}]};var st={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"unauth"},[s("div",{staticClass:"unauth-title"},[s("h1",[t._v("Hello on Unauthorized page")])]),t._v(" "),s("h2",[t._v("Information:")]),t._v(" "),s("p",[t._v("This is example project which uses such technologies:")]),t._v(" "),s("ul",[s("li",[t._v("Frontend: Vue, Vuex, routes")]),t._v(" "),s("li",[t._v("Backend: Node.js + express, MongoDB + Mongoose")])]),t._v(" "),s("br"),t._v(" "),s("p",[t._v("Please login as a user or create new user account")]),t._v(" "),s("p",[t._v("To access admin page use these credentials: admin@example.com/Password")])])}]};var at={name:"Main",components:{AdminPage:X,ResidentPage:s("VU/8")(tt,et,!1,function(t){s("Tu2Z")},"data-v-2e7a6b2e",null).exports,UnauthorizedPage:s("VU/8")({name:"UnauthorizedPage"},st,!1,function(t){s("lEOB")},"data-v-02b87b3f",null).exports,Header:B,Footer:K},data:function(){return{msg:"Welcome my dear friend"}},computed:_()({},Object(E.c)({isLoggedIn:F.getter.IS_LOGGED_IN,userAccess:F.getter.GET_USER_ACCESS}),{userComponent:function(){return this.isLoggedIn?"Admin"===this.userAccess?"AdminPage":"Resident"===this.userAccess?"ResidentPage":"":"UnauthorizedPage"}}),methods:_()({},Object(E.b)({checkAuthorisation:F.action.CHECK_LOGIN_ON_SERVER,requestHostAddress:F.action.REQUEST_HOST_ADDRESS})),beforeMount:function(){console.log("beforeMount in Main"),this.checkAuthorisation().catch(function(t){console.log("e: ",t)})}},nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("v-app",{attrs:{id:"inspire"}},[e("div",{staticClass:"main"},[e("Header",{staticClass:"header"}),this._v(" "),e(this.userComponent,{tag:"component",staticClass:"content"}),this._v(" "),e("Footer",{staticClass:"footer"})],1)])],1)},staticRenderFns:[]};var rt=s("VU/8")(at,nt,!1,function(t){s("VIut")},"data-v-1ddda096",null).exports,it={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"posts"})},staticRenderFns:[]};s("VU/8")({name:"posts"},it,!1,function(t){s("CR7k")},"data-v-2f54d2a8",null).exports;var ot=s("+cKO"),ct={name:"LoginPage",data:function(){return{email:"",password:"",confirmPassword:"",newUser:!1,customError:""}},validations:function(){var t={email:{required:ot.required,email:ot.email},password:{required:ot.required,minLength:Object(ot.minLength)(8)}};return this.newUser&&(t=_()({},t,{confirmPassword:{required:ot.required,sameAsPassword:Object(ot.sameAs)("password")}})),t},computed:_()({},Object(E.c)({initialUserUrl:F.getter.GET_USER_URL}),{emailErrors:function(){var t=[];return this.$v.email.$dirty?(!this.$v.email.email&&t.push("Must be valid e-mail"),!this.$v.email.required&&t.push("E-mail is required"),t):t},passwordErrors:function(){var t=[];return this.$v.password.$dirty?(!this.$v.password.required&&t.push("Password is required"),!this.$v.password.minLength&&t.push("Password should be at least 8 characters"),this.customError&&t.push(this.customError),t):t},confirmPasswordErrors:function(){var t=[];return this.$v.confirmPassword.$dirty?(!this.$v.confirmPassword.required&&t.push("Confirm password is required"),!this.$v.confirmPassword.sameAsPassword&&t.push("Passwords must be identical"),t):t}}),methods:_()({},Object(E.b)({login:F.action.LOGIN_BY_CREDENTIALS}),{loginUser:function(){var t=this;this.login({email:this.email,password:this.password}).then(function(){t.$router.push("/")}).catch(function(t){console.log("error inside LoginPage: ",t)})},createUser:function(){var t,e,s=this;(t=this.email,e=this.password,new A.a(function(s,a){T.a.post(j.getters.HOST_ADDRESS+"/users",{email:t,password:e}).then(function(t){return L(t),s(t.data)}).catch(function(t){return a(t)})})).then(function(){s.$router.push("/")}).catch(function(){})}})},ut={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{id:"inspire"}},[s("v-content",[s("v-container",{attrs:{fluid:"","fill-height":""},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.newUser?t.createUser():t.loginUser()}}},[s("v-layout",{attrs:{"align-center":"","justify-center":""}},[s("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[s("v-card",{staticClass:"elevation-12"},[s("v-toolbar",{attrs:{dark:"",color:"primary"}},[s("v-toolbar-title",[t._v("Login form")]),t._v(" "),s("v-spacer"),t._v(" "),s("v-tooltip",{attrs:{bottom:""}},[s("v-btn",{attrs:{slot:"activator",icon:"",large:"",target:"_blank"},slot:"activator"},[s("v-icon",{attrs:{large:""}},[t._v("code")])],1),t._v(" "),s("span",[t._v("Source")])],1)],1),t._v(" "),s("v-card-text",[s("v-form",[s("v-radio-group",{attrs:{column:!1,row:!0},on:{change:function(e){t.customError=""}},model:{value:t.newUser,callback:function(e){t.newUser=e},expression:"newUser"}},[s("v-radio",{attrs:{label:"Existing user",value:!1}}),t._v(" "),s("v-radio",{attrs:{label:"New user",value:!0}})],1),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text","error-messages":t.emailErrors},on:{input:function(e){t.$v.email.$touch(),t.customError=""},blur:function(e){t.$v.email.$touch()}},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),s("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"Password",id:"password",type:"password","error-messages":t.passwordErrors},on:{input:function(e){t.$v.password.$touch(),t.customError=""},blur:function(e){t.$v.password.$touch()}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),t.newUser?s("v-text-field",{attrs:{"prepend-icon":"lock",name:"confirm-password",label:"Confirm password",id:"password2",type:"password","error-messages":t.confirmPasswordErrors},on:{input:function(e){t.$v.confirmPassword.$touch()},blur:function(e){t.$v.confirmPassword.$touch()}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}):t._e()],1)],1),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),s("v-btn",{attrs:{color:"primary",disabled:t.$v.$invalid},on:{click:function(e){e.preventDefault(),t.newUser?t.createUser():t.loginUser()}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t.newUser?"Create":"Login"))])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var lt=s("VU/8")(ct,ut,!1,function(t){s("+tOl")},"data-v-298c9588",null).exports;a.a.use(l.a);var dt=[{path:"/",name:"Main",component:rt},{name:"login",path:"/login",component:lt}],_t=new l.a({mode:"history",routes:dt});_t.beforeEach(function(t,e,s){s()});var Et=_t;a.a.config.productionTip=!1,a.a.use(r.a),a.a.use(o.a);new a.a({store:j,el:"#app",router:Et,components:{App:u},template:"<App/>",beforeCreate:function(){j.dispatch("REQUEST_HOST_ADDRESS").catch(function(t){console.log("error: ",t)})}})},Tu2Z:function(t,e){},VIut:function(t,e){},dhIU:function(t,e,s){"use strict";const a=s("2cg0"),n=s("rBKV");t.exports=a(n,{NODE_ENV:'"development"',APIENDPOINT:'"http://localhost:8081"'})},eiG0:function(t,e){},lEOB:function(t,e){},rBKV:function(t,e,s){"use strict";t.exports={NODE_ENV:'"production"',APIENDPOINT:'"https://vuenodeapp.herokuapp.com"'}}},["NHnr"]);
//# sourceMappingURL=app.5d4160dd4f7a29347f05.js.map